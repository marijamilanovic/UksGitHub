{% extends 'home/index.html' %}
{% load static %}
{% load bootstrap_icons %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %} UksGithub {% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{% static 'repository/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    {% block content %}
    
    <head>
      <link defer rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
<script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script>
    </head>


    <ul class="nav">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="{% url 'repository' id=repository.id %}">Code</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'issues' id=repository.id  %}">Issues</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'milestones' id=repository.id  %}">Milestones</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'pullrequests' id=repository.id  %}">Pull requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
    </ul>

   



    {% block page_content %}
    <div class="code">

      <div class="code-item1">
        <span class="iconify" data-icon="fa-solid:code-branch"></span>
        <select class="selectpicker" data-live-search="true" data-size="5" onchange="location = this.value">
          {% for branch in branch_list.all  %}
            <option value="{% url 'repo_branch' id=repository.id branch_id=branch.id %}" {% if branch.id == selected_branch.id %} selected {% endif %}>
            {{branch.name}} 
            </option>
          </a>
          {% endfor %}

        </select>

        <span style="margin-left: 3%;"><a style="color: black;" href="{% url 'branch:repoBranchList' id=repository.id  %}"><span class="iconify" data-icon="fa-solid:code-branch" style="margin-right: 1%;"></span>{{branch_list|length}} branches</a></span>
        
      </div>


      <div class="code-item2">
        <a style="color: black;" href="{% url 'commit:commitList' id=selected_branch.id  %}">
        <span class="iconify" data-icon="si-glyph:time-reload" data-width="22" data-height="20"></span>
        <span>{{commit_list|length}} commits</span>
      </a>
      </div>

    </div>
    {%endblock%}  
    {%endblock%}
</body>

